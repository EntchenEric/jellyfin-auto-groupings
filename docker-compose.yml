# ─────────────────────────────────────────────────────────────
# docker-compose.yml  –  for local / non-Unraid deployments
#
# Unraid users: use the Community Applications template instead.
# Template path: unraid/jellyfin-groupings.xml
# ─────────────────────────────────────────────────────────────
services:
  jellyfin-groupings:
    build: .
    # Or pull from the registry once published:
    # image: ghcr.io/entcheneric/jellyfin-groupings:latest
    ports:
      - "5000:5000"
    volumes:
      # Config persistence – no need to create config.json manually.
      # The app auto-creates it on first start.
      - app_config:/app/config

      # Output directory where virtual grouping folders (symlinks) are created.
      # → In the app, set "Target Path" to: /groupings
      - /path/to/your/groupings-virtual:/groupings

      # Your media root – so the app can verify symlink targets exist on disk.
      # → In the app, set "Media path as Jellyfin sees it" to the path Jellyfin
      #   reports (e.g. /media), and "Same path on this machine" to /media below.
      # → Adjust the host path to wherever your media actually lives.
      # - /mnt/user/media:/media:ro

    restart: unless-stopped

volumes:
  app_config:
